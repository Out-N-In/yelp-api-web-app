<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <title>Yelp Result</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body style="background-color:yellowgreen;">
<lable id = "iResult"></lable>
<form action="yelp">
        <input type="text" placeholder="What kind of food" name="term">
        <input type="text" placeholder="location" name="location">
        <button type="submit"><i class="fa fa-search"></i>Lets start search</button>
        <input type="text" id="curr_lat"  name="LA">
        <input type="text" id="curr_lon"  name="LO">
<!--        <button type="submit"><i class="fa fa-search"></i></button>-->
</form>

<p>Click the button to get your coordinates.</p>

<button onclick= "getLocation()"> Try It </button>

<!--<form action="yelp">-->
<!--    <p name="latitude" id="latitude"></p>-->
<!--    <p name="longitude" id="longitude"></p>-->
<!--    <button type="submit"></button>-->
<!--</form>-->
<!--<button type="submit"><i class="fa fa-search"></i></button>-->

<script>
    // var x = document.getElementById("latitude");
    // var y = document.getElementById("longitude");
    var x = document.getElementById("curr_lat");
    var y = document.getElementById("curr_lon");
    window.onload = getLocation;

    function getLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(showPosition);
        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }
    }

    function showPosition(position) {
        console.log("lat " + position.coords.latitude);
        console.log("lon " + position.coords.longitude);
        // x.innerText = position.coords.latitude;
        // y.innerText = position.coords.longitude;
        x.value = position.coords.latitude;
        y.value = position.coords.longitude;
    }
</script>

<table>
    <thead>
    <tr>
        <th> Name </th>
        <th> Image </th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="b : ${yelp_result}" style="background-color:lightgoldenrodyellow;" >
        <td><span th:text="${b.name}" > </span></td>
        <td><img th:src="${b.image_url}" width="300" /></td>
    </tr>
    </tbody>
</table>
</body>

</html>
